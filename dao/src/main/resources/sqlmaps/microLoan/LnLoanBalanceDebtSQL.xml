<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="YDWD_LN_LOAN_BALANCE_DEBT" >
  <resultMap id="abatorgenerated_LnLoanBalanceDebtResult" class="com.banger.mobile.domain.model.loan.LnLoanBalanceDebt" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Mar 07 17:44:58 CST 2016.
    -->
    <result column="LOAN_BALANCE_DEBT_ID" property="loanBalanceDebtId" jdbcType="INTEGER" />
    <result column="LOAN_BALANCE_ID" property="loanBalanceId" jdbcType="INTEGER" />
    <result column="TYPE" property="type" jdbcType="VARCHAR" />
    <result column="VALUE" property="value" jdbcType="VARCHAR" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="NOTE" property="note" jdbcType="VARCHAR" />
  </resultMap>
  
  <select id="selectDebtByPrimary" resultMap="abatorgenerated_LnLoanBalanceDebtResult" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceDebt" >
   
    select LOAN_BALANCE_DEBT_ID, LOAN_BALANCE_ID, TYPE, VALUE, NAME, NOTE
    from LN_LOAN_BALANCE_DEBT
    where 1=1
      <isNotNull prepend="and" property="loanBalanceDebtId" >
        LOAN_BALANCE_DEBT_ID = #loanBalanceDebtId:INTEGER#
      </isNotNull>
  	  <isNotNull prepend="and" property="loanBalanceId" >
        LOAN_BALANCE_ID = #loanBalanceId:INTEGER#
      </isNotNull>
       order by TYPE desc,NAME desc
  </select>
 
  <delete id="deleteDebt" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceDebt">
    delete from LN_LOAN_BALANCE_DEBT
    where LOAN_BALANCE_DEBT_ID = #loanBalanceDebtId:INTEGER#
  </delete>
  
  <insert id="insertDebt" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceDebt" >
   
    insert into LN_LOAN_BALANCE_DEBT (LOAN_BALANCE_DEBT_ID, LOAN_BALANCE_ID, TYPE, VALUE, NAME,
      NOTE)
    values (#loanBalanceDebtId:INTEGER#, #loanBalanceId:INTEGER#, #type:VARCHAR#, #value:VARCHAR#,
      #name:VARCHAR#, #note:VARCHAR#)
      <selectKey keyProperty="loanBalanceDebtId"
			resultClass="java.lang.Integer" type="pre">
			values NEXTVAL for SEQ_LN_LOAN_BALANCE_DEBT
		</selectKey>
      
  </insert>
  <update id="updateDebt" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceDebt" >
   
    update LN_LOAN_BALANCE_DEBT
    set 
      TYPE = #type:VARCHAR#,
      VALUE = #value:VARCHAR#,
      NAME = #name:VARCHAR#,
      NOTE = #note:VARCHAR#
    where LOAN_BALANCE_DEBT_ID = #loanBalanceDebtId:INTEGER#
  </update>
   
</sqlMap>