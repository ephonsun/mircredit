<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="YDWD_LN_LOAN_BALANCE_ASSET" >
  <resultMap id="abatorgenerated_LnLoanBalanceAssetResult" class="com.banger.mobile.domain.model.loan.LnLoanBalanceAsset" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Mar 07 17:08:10 CST 2016.
    -->
    <result column="LOAN_BALANCE_ASSET_ID" property="loanBalanceAssetId" jdbcType="INTEGER" />
    <result column="LOAN_BALANCE_ID" property="loanBalanceId" jdbcType="INTEGER" />
    <result column="TYPE" property="type" jdbcType="VARCHAR" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="VALUE" property="value" jdbcType="VARCHAR" />
    <result column="NOTE" property="note" jdbcType="VARCHAR" />
  </resultMap>

  <select id="selectAssetByPrimary" resultMap="abatorgenerated_LnLoanBalanceAssetResult" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceAsset" >
    
    select LOAN_BALANCE_ASSET_ID, LOAN_BALANCE_ID, TYPE, NAME, VALUE, NOTE
    from LN_LOAN_BALANCE_ASSET
    where 1=1
      <isNotNull prepend="and" property="loanBalanceAssetId" >
        LOAN_BALANCE_ASSET_ID = #loanBalanceAssetId:INTEGER#
      </isNotNull>
  	  <isNotNull prepend="and" property="loanBalanceId" >
        LOAN_BALANCE_ID = #loanBalanceId:INTEGER#
      </isNotNull>
      order by TYPE desc,NAME desc
  </select>
 
  <delete id="deleteAsset" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceAsset" >
    
    delete from LN_LOAN_BALANCE_ASSET
    where LOAN_BALANCE_ASSET_ID = #loanBalanceAssetId:INTEGER#
  </delete>
  
  <insert id="insertAsset" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceAsset" >
    
    insert into LN_LOAN_BALANCE_ASSET (LOAN_BALANCE_ASSET_ID, LOAN_BALANCE_ID, TYPE, NAME,
      VALUE, NOTE)
    values (#loanBalanceAssetId:INTEGER#, #loanBalanceId:INTEGER#, #type:VARCHAR#, #name:VARCHAR#,
      #value:VARCHAR#, #note:VARCHAR#)
       <selectKey keyProperty="loanBalanceAssetId"
			resultClass="java.lang.Integer" type="pre">
			values NEXTVAL for SEQ_LN_LOAN_BALANCE_ASSET
		</selectKey>
      
  </insert>
  
  <update id="updateAsset" parameterClass="com.banger.mobile.domain.model.loan.LnLoanBalanceAsset" >
   
    update LN_LOAN_BALANCE_ASSET
    set 
      TYPE = #type:VARCHAR#,
      NAME = #name:VARCHAR#,
      VALUE = #value:VARCHAR#,
      NOTE = #note:VARCHAR#
    where LOAN_BALANCE_ASSET_ID = #loanBalanceAssetId:INTEGER#
  </update>
  
 
</sqlMap>