// JavaScript Documentfunction IsDate(obj){// 判断日期格式    var str = $(obj).val();    if(str.length!=0){		//正则验证从1600-1-1到9999-12-31		reg=/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))$/;        var r = reg.test(str);        if(!r){           	return false;		}	}		return true ;  }//日期验证方法及返回结果function dateCheck(obj){	var bool=false;		if($(obj).val()){			if(IsDate(obj)){				var msg=requiredDateForCompare($(obj).val());//获取文本框日期值并验证大小					if(msg != ''){//如果比较消息结果不为空						$(obj).parent().addClass('v-fails');//日期文本框变为红色					}else{						$(obj).parent().removeClass('v-fails');						bool=true;					}			}else{				$(obj).parent().addClass('v-fails');				msg='输入日期格式不正确!';			}		}else{			$(obj).parent().addClass('v-fails');//日期文本框变为红色			msg=$(obj).attr('tips');//获取页面tips值给msg		}		$(obj).hover(//鼠标移动效果			function(e){				if(typeof(this.tips) != 'undefined' && ($(this).hasClass('v-fails') || $(this).parent().hasClass('v-fails'))){					$('body').append('<div class=\'v-tips\'><img src=\'../images/public/vtips.gif\' /><label></label></div>');					$('div.v-tips').css({top: e.pageY + 17 + 'px', left: e.pageX + 20 + 'px'  }).find('label').text(msg);				}			},			function(){					if(typeof(this.tips) != 'undefined'){						$('div.v-tips').remove();					}			}		).mousemove(function(e){			if(typeof(this.tips) != 'undefined'){				$('div.v-tips').css({ top: e.pageY  + 17 + 'px', left: e.pageX  + 20 +'px' });			}	});	return bool;}function dateCheckT(obj){	var bool=false;		if($(obj).val()){			if(IsDate(obj)){				var msg=requiredDateForCompareT($(obj).val());//获取文本框日期值并验证大小					if(msg != ''){//如果比较消息结果不为空						$(obj).parent().addClass('v-fails');//日期文本框变为红色					}else{						$(obj).parent().removeClass('v-fails');						bool=true;					}			}else{				$(obj).parent().addClass('v-fails');				msg='输入日期格式不正确!';			}		}else{			$(obj).parent().addClass('v-fails');//日期文本框变为红色			msg=$(obj).attr('tips');//获取页面tips值给msg		}		$(obj).hover(//鼠标移动效果			function(e){				if(typeof(this.tips) != 'undefined' && ($(this).hasClass('v-fails') || $(this).parent().hasClass('v-fails'))){					$('body').append('<div class=\'v-tips\'><img src=\'../images/public/vtips.gif\' /><label></label></div>');					$('div.v-tips').css({top: e.pageY + 17 + 'px', left: e.pageX + 20 + 'px'  }).find('label').text(msg);				}			},			function(){					if(typeof(this.tips) != 'undefined'){						$('div.v-tips').remove();					}			}		).mousemove(function(e){			if(typeof(this.tips) != 'undefined'){				$('div.v-tips').css({ top: e.pageY  + 17 + 'px', left: e.pageX  + 20 +'px' });			}	});	return bool;}//获取当前系统时间function sysDate(){	var sDate= new Date().Format('yyyy-MM-dd');	return sDate;}//比较时间function requiredDateForCompare(obj){	var systemDate = sysDate();	var msg='';	if(Date.parse(obj.replace("-","/")) < Date.parse(systemDate.replace("-","/"))){  		msg="选择日期须晚于"+systemDate+"!"; 	}	return msg;}function requiredDateForCompareT(obj){	var systemDate = sysDate();	var msg='';	if(Date.parse(obj.replace("-","/")) <= Date.parse(systemDate.replace("-","/"))){  		msg="选择日期须晚于"+systemDate+"!"; 	}	return msg;}//js时间格式化 和加减Date.prototype.Format = function(fmt) {	var o =	{ 	"M+" : this.getMonth() + 1, //月份 	"d+" : this.getDate(), //日 	"h+" : this.getHours(), //小时 	"m+" : this.getMinutes(), //分 	"s+" : this.getSeconds(), //秒 	"q+" : Math.floor((this.getMonth() + 3) / 3), //季度 	"S" : this.getMilliseconds() //毫秒 	}; 	if (/(y+)/.test(fmt)) 	fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length)); 	for (var k in o) 	if (new RegExp("(" + k + ")").test(fmt)) 	fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length))); 	return fmt; }Date.prototype.addDays = function(d){	this.setDate(this.getDate() + d);};Date.prototype.addWeeks = function(w){	this.addDays(w * 7);};Date.prototype.addMonths= function(m){	var d = this.getDate();	this.setMonth(this.getMonth() + m);		if (this.getDate() < d)	this.setDate(0);};Date.prototype.addYears = function(y){	var m = this.getMonth();	this.setFullYear(this.getFullYear() + y);		if (m < this.getMonth()) 	{	this.setDate(0);	}};